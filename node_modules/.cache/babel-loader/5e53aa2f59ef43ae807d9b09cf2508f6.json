{"remainingRequest":"/Users/yangang/Desktop/learn/antdesign/node_modules/babel-loader/lib/index.js!/Users/yangang/Desktop/learn/antdesign/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yangang/Desktop/learn/antdesign/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangang/Desktop/learn/antdesign/src/views/blog/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangang/Desktop/learn/antdesign/src/views/blog/index.vue","mtime":1611826892884},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/cache-loader/dist/cjs.js","mtime":1582881505343},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/babel-loader/lib/index.js","mtime":1585799465353},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/cache-loader/dist/cjs.js","mtime":1582881505343},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/vue-loader/lib/index.js","mtime":1595387469879}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3lhbmdhbmcvRGVza3RvcC9sZWFybi9hbnRkZXNpZ24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgKiBhcyBBcGkgZnJvbSAiQC9hcGkvYmxvZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIHJlY29yZDoge30KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY29sdW1uczogZnVuY3Rpb24gY29sdW1ucygpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgdGl0bGU6ICLmoIfpopgiLAogICAgICAgIGRhdGFJbmRleDogInRpdGxlIiwKICAgICAgICBzY29wZWRTbG90czogewogICAgICAgICAgY3VzdG9tUmVuZGVyOiAiYmxvZ190aXRsZSIKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIuWGheWuuSIsCiAgICAgICAgZGF0YUluZGV4OiAiY29udGVudCIsCiAgICAgICAgc2NvcGVkU2xvdHM6IHsKICAgICAgICAgIGN1c3RvbVJlbmRlcjogImNvbnRlbnQiCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLmn6XnnIvmlbAiLAogICAgICAgIGRhdGFJbmRleDogInZpZXdzIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLngrnotZ7mlbAiLAogICAgICAgIGRhdGFJbmRleDogInRodW1icyIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5Yib5bu65pe26Ze0IiwKICAgICAgICBkYXRhSW5kZXg6ICJjcmVhdGVkX3RpbWUiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIuaTjeS9nCIsCiAgICAgICAgc2NvcGVkU2xvdHM6IHsKICAgICAgICAgIGN1c3RvbVJlbmRlcjogImFjdGlvbiIKICAgICAgICB9CiAgICAgIH1dOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRBcGkkbGlzdCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gQXBpLmxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJEFwaSRsaXN0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkQXBpJGxpc3QuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLmxpc3QgPSBkYXRhOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoX3JlZikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBpZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWQgPSBfcmVmLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEFwaS5yZW1vdmUoaWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CgogICAgICAgICAgICAgICAgX3RoaXMyLmZldGNoRGF0YSgpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB0b0VkaXQ6IGZ1bmN0aW9uIHRvRWRpdChfcmVmMikgewogICAgICB2YXIgaWQgPSBfcmVmMi5pZDsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvYmxvZy9kZXRhaWwiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAiBA,OAAA,KAAA,GAAA,MAAA,YAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,CACA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,SAAA,EAAA,OAFA;AAGA,QAAA,WAAA,EAAA;AAAA,UAAA,YAAA,EAAA;AAAA;AAHA,OADA,EAMA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,SAAA,EAAA,SAFA;AAGA,QAAA,WAAA,EAAA;AAAA,UAAA,YAAA,EAAA;AAAA;AAHA,OANA,EAWA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAXA,EAYA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAZA,EAaA;AAAA,QAAA,KAAA,EAAA,MAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAbA,EAcA;AAAA,QAAA,KAAA,EAAA,IAAA;AAAA,QAAA,WAAA,EAAA;AAAA,UAAA,YAAA,EAAA;AAAA;AAAA,OAdA,CAAA;AAgBA;AAlBA,GAPA;AA2BA,EAAA,OA3BA,qBA2BA;AACA,SAAA,SAAA;AACA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,GAAA,CAAA,IAAA,EADA;;AAAA;AAAA;AACA,gBAAA,IADA,mBACA,IADA;AAEA,gBAAA,KAAA,CAAA,IAAA,GAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAJA;AAKA,IAAA,MALA,wBAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,EAAA,QAAA,EAAA;AAAA;AAAA,uBACA,GAAA,CAAA,MAAA,CAAA,EAAA,CADA;;AAAA;AAEA,gBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,gBAAA,MAAA,CAAA,SAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KATA;AAUA,IAAA,MAVA,yBAUA;AAAA,UAAA,EAAA,SAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,cADA;AAEA,QAAA,KAAA,EAAA;AAAA,UAAA,EAAA,EAAA;AAAA;AAFA,OAAA;AAIA;AAfA;AA9BA,CAAA","sourcesContent":["<template>\n  <a-card>\n    <a-button class=\"mg15\" type=\"primary\">新增</a-button>\n    <a-table row-key=\"id\" :dataSource=\"list\" :columns=\"columns\">\n      <template #blog_title=\"text\">{{text&&text.length>15?text.slice(0,15):text}}</template>\n      <template #content=\"text\">{{text&&text.length>15?text.slice(0,15):text}}</template>\n      <template #action=\"text,record\">\n        <div class=\"action-box\">\n          <span class=\"primary bold\" @click=\"toEdit(record)\">编辑</span>\n          <span class=\"danger bold\" @click=\"remove(record)\">删除</span>\n        </div>\n      </template>\n    </a-table>\n  </a-card>\n</template>\n\n<script>\nimport * as Api from \"@/api/blog\";\n\nexport default {\n  data() {\n    return {\n      list: [],\n      record: {}\n    };\n  },\n  computed: {\n    columns() {\n      return [\n        {\n          title: \"标题\",\n          dataIndex: \"title\",\n          scopedSlots: { customRender: \"blog_title\" }\n        },\n        {\n          title: \"内容\",\n          dataIndex: \"content\",\n          scopedSlots: { customRender: \"content\" }\n        },\n        { title: \"查看数\", dataIndex: \"views\" },\n        { title: \"点赞数\", dataIndex: \"thumbs\" },\n        { title: \"创建时间\", dataIndex: \"created_time\" },\n        { title: \"操作\", scopedSlots: { customRender: \"action\" } }\n      ];\n    }\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    async fetchData() {\n      const { data } = await Api.list();\n      this.list = data;\n    },\n    async remove({ id }) {\n      await Api.remove(id);\n      this.$message.success(\"删除成功\");\n      this.fetchData();\n    },\n    toEdit({ id }) {\n      this.$router.push({\n        path: \"/blog/detail\",\n        query: { id }\n      });\n    }\n  }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/views/blog"}]}