{"remainingRequest":"/Users/yangang/Desktop/learn/antdesign/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangang/Desktop/learn/antdesign/src/layouts/SideMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangang/Desktop/learn/antdesign/src/layouts/SideMenu.vue","mtime":1611743913929},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/cache-loader/dist/cjs.js","mtime":1582881505343},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/babel-loader/lib/index.js","mtime":1585799465353},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/cache-loader/dist/cjs.js","mtime":1582881505343},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/vue-loader/lib/index.js","mtime":1595387469879}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGV4dHJhUm91dGUgfSBmcm9tICJAL3JvdXRlciI7CmltcG9ydCBTdWJNZW51IGZyb20gIi4vU3ViTWVudSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU3ViTWVudQogIH0sCiAgcHJvcHM6IHsKICAgIHRoZW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImRhcmsiCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgdGhpcy5zZWxlY3RlZEtleXNNYXAgPSB7fTsKICAgIHRoaXMub3BlbktleXNNYXAgPSB7fTsKICAgIC8vIHRoaXMuJHJvdXRlci5vcHRpb25zLnJvdXRlcwogICAgY29uc3QgbWVudURhdGEgPSB0aGlzLmdldE1lbnVEYXRhKGV4dHJhUm91dGUpOwogICAgcmV0dXJuIHsKICAgICAgY29sbGFwc2VkOiBmYWxzZSwKICAgICAgbGlzdDogW10sCiAgICAgIG1lbnVEYXRhLAogICAgICBvcGVuS2V5czogW10sCiAgICAgIHNlbGVjdGVkS2V5czogW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgIiRyb3V0ZS5wYXRoIjogZnVuY3Rpb24odmFsKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRLZXlzID0gdGhpcy5zZWxlY3RlZEtleXNNYXBbdmFsXTsKICAgICAgdGhpcy5vcGVuS2V5cyA9IHRoaXMuY29sbGFwc2VkID8gW10gOiB0aGlzLm9wZW5LZXlzTWFwW3ZhbF07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB0b2dnbGVDb2xsYXBzZWQoKSB7CiAgICAgIHRoaXMuY29sbGFwc2VkID0gIXRoaXMuY29sbGFwc2VkOwogICAgfSwKICAgIGxpbmtUbyh7IHBhdGggfSkgewogICAgICBpZiAodGhpcy4kcm91dGUucGF0aCA9PSBwYXRoKSByZXR1cm47CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogcGF0aCB9KTsKICAgIH0sCiAgICBnZXRNZW51RGF0YShyb3V0ZXMgPSBbXSwgcGFyZW50S2V5cyA9IFtdLCBzZWxlY3RlZEtleXMpIHsKICAgICAgY29uc3QgbWVudURhdGEgPSBbXTsKICAgICAgbGV0IHsgb3BlbktleXNNYXAsIHNlbGVjdGVkS2V5c01hcCB9ID0gdGhpczsKICAgICAgcm91dGVzLmZvckVhY2goaXQgPT4gewogICAgICAgIGlmIChpdC5uYW1lICYmICFpdC5oaWRlSW5NZW51KSB7CiAgICAgICAgICBvcGVuS2V5c01hcFtpdC5wYXRoXSA9IHBhcmVudEtleXM7CiAgICAgICAgICBzZWxlY3RlZEtleXNNYXBbaXQucGF0aF0gPSBbc2VsZWN0ZWRLZXlzIHx8IGl0LnBhdGhdOwogICAgICAgICAgY29uc3QgbmV3SXRlbSA9IHsgLi4uaXQgfTsKICAgICAgICAgIGRlbGV0ZSBuZXdJdGVtLmNoaWxkcmVuOwogICAgICAgICAgaWYgKGl0LmNoaWxkcmVuICYmICFpdC5oaWRlSW5NZW51KSB7CiAgICAgICAgICAgIG5ld0l0ZW0uY2hpbGRyZW4gPSB0aGlzLmdldE1lbnVEYXRhKGl0LmNoaWxkcmVuLCBbCiAgICAgICAgICAgICAgLi4ucGFyZW50S2V5cywKICAgICAgICAgICAgICBpdC5wYXRoCiAgICAgICAgICAgIF0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5nZXRNZW51RGF0YSgKICAgICAgICAgICAgICBpdC5jaGlsZHJlbiwKICAgICAgICAgICAgICBzZWxlY3RlZEtleXMgPyBwYXJlbnRLZXlzIDogWy4uLnBhcmVudEtleXMsIGl0LnBhdGhdLAogICAgICAgICAgICAgIHNlbGVjdGVkS2V5cyB8fCBpdC5wYXRoCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgICBtZW51RGF0YS5wdXNoKG5ld0l0ZW0pOwogICAgICAgIH0gZWxzZSBpZiAoIWl0LmhpZGVJbk1lbnUgJiYgIWl0LmhpZGVDaGlsZHJlbk1lbnUgJiYgaXQuY2hpbGRyZW4pIHsKICAgICAgICAgIG1lbnVEYXRhLnB1c2goCiAgICAgICAgICAgIC4uLnRoaXMuZ2V0TWVudURhdGEoaXQuY2hpbGRyZW4sIFsuLi5wYXJlbnRLZXlzLCBpdC5wYXRoXSkKICAgICAgICAgICk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIG1lbnVEYXRhOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["SideMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SideMenu.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n  <div style=\"width: 256px\">\n    <a-menu\n      :selectedKeys=\"selectedKeys\"\n      :openKeys=\"openKeys\"\n      mode=\"inline\"\n      :theme=\"theme\"\n      :inline-collapsed=\"collapsed\"\n    >\n      <template v-for=\"item in menuData\">\n        <a-menu-item v-if=\"!item.children\" :key=\"item.path\" @click=\"linkTo(item)\">\n          <a-icon v-if=\"item.meta && item.meta.icon\" :type=\"item.meta.icon\" />\n          <span>{{ item.meta && item.meta.title }}</span>\n        </a-menu-item>\n        <sub-menu v-else :key=\"item.path\" :menu-info=\"item\" />\n      </template>\n    </a-menu>\n  </div>\n</template>\n\n<script>\nimport { extraRoute } from \"@/router\";\nimport SubMenu from \"./SubMenu\";\n\nexport default {\n  components: {\n    SubMenu\n  },\n  props: {\n    theme: {\n      type: String,\n      default: \"dark\"\n    }\n  },\n  data() {\n    this.selectedKeysMap = {};\n    this.openKeysMap = {};\n    // this.$router.options.routes\n    const menuData = this.getMenuData(extraRoute);\n    return {\n      collapsed: false,\n      list: [],\n      menuData,\n      openKeys: [],\n      selectedKeys: []\n    };\n  },\n  watch: {\n    \"$route.path\": function(val) {\n      this.selectedKeys = this.selectedKeysMap[val];\n      this.openKeys = this.collapsed ? [] : this.openKeysMap[val];\n    }\n  },\n  methods: {\n    toggleCollapsed() {\n      this.collapsed = !this.collapsed;\n    },\n    linkTo({ path }) {\n      if (this.$route.path == path) return;\n      this.$router.push({ path: path });\n    },\n    getMenuData(routes = [], parentKeys = [], selectedKeys) {\n      const menuData = [];\n      let { openKeysMap, selectedKeysMap } = this;\n      routes.forEach(it => {\n        if (it.name && !it.hideInMenu) {\n          openKeysMap[it.path] = parentKeys;\n          selectedKeysMap[it.path] = [selectedKeys || it.path];\n          const newItem = { ...it };\n          delete newItem.children;\n          if (it.children && !it.hideInMenu) {\n            newItem.children = this.getMenuData(it.children, [\n              ...parentKeys,\n              it.path\n            ]);\n          } else {\n            this.getMenuData(\n              it.children,\n              selectedKeys ? parentKeys : [...parentKeys, it.path],\n              selectedKeys || it.path\n            );\n          }\n          menuData.push(newItem);\n        } else if (!it.hideInMenu && !it.hideChildrenMenu && it.children) {\n          menuData.push(\n            ...this.getMenuData(it.children, [...parentKeys, it.path])\n          );\n        }\n      });\n      return menuData;\n    }\n  }\n};\n</script>\n"]}]}