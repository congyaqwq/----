{"remainingRequest":"/Users/yangang/Desktop/learn/antdesign/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangang/Desktop/learn/antdesign/src/views/blog/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangang/Desktop/learn/antdesign/src/views/blog/index.vue","mtime":1611826892884},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/cache-loader/dist/cjs.js","mtime":1582881505343},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/babel-loader/lib/index.js","mtime":1585799465353},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/cache-loader/dist/cjs.js","mtime":1582881505343},{"path":"/Users/yangang/Desktop/learn/antdesign/node_modules/vue-loader/lib/index.js","mtime":1595387469879}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIEFwaSBmcm9tICJAL2FwaS9ibG9nIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIHJlY29yZDoge30KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY29sdW1ucygpIHsKICAgICAgcmV0dXJuIFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuagh+mimCIsCiAgICAgICAgICBkYXRhSW5kZXg6ICJ0aXRsZSIsCiAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJibG9nX3RpdGxlIiB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuWGheWuuSIsCiAgICAgICAgICBkYXRhSW5kZXg6ICJjb250ZW50IiwKICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImNvbnRlbnQiIH0KICAgICAgICB9LAogICAgICAgIHsgdGl0bGU6ICLmn6XnnIvmlbAiLCBkYXRhSW5kZXg6ICJ2aWV3cyIgfSwKICAgICAgICB7IHRpdGxlOiAi54K56LWe5pWwIiwgZGF0YUluZGV4OiAidGh1bWJzIiB9LAogICAgICAgIHsgdGl0bGU6ICLliJvlu7rml7bpl7QiLCBkYXRhSW5kZXg6ICJjcmVhdGVkX3RpbWUiIH0sCiAgICAgICAgeyB0aXRsZTogIuaTjeS9nCIsIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImFjdGlvbiIgfSB9CiAgICAgIF07CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGZldGNoRGF0YSgpIHsKICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBBcGkubGlzdCgpOwogICAgICB0aGlzLmxpc3QgPSBkYXRhOwogICAgfSwKICAgIGFzeW5jIHJlbW92ZSh7IGlkIH0pIHsKICAgICAgYXdhaXQgQXBpLnJlbW92ZShpZCk7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgICB9LAogICAgdG9FZGl0KHsgaWQgfSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9ibG9nL2RldGFpbCIsCiAgICAgICAgcXVlcnk6IHsgaWQgfQogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/blog","sourcesContent":["<template>\n  <a-card>\n    <a-button class=\"mg15\" type=\"primary\">新增</a-button>\n    <a-table row-key=\"id\" :dataSource=\"list\" :columns=\"columns\">\n      <template #blog_title=\"text\">{{text&&text.length>15?text.slice(0,15):text}}</template>\n      <template #content=\"text\">{{text&&text.length>15?text.slice(0,15):text}}</template>\n      <template #action=\"text,record\">\n        <div class=\"action-box\">\n          <span class=\"primary bold\" @click=\"toEdit(record)\">编辑</span>\n          <span class=\"danger bold\" @click=\"remove(record)\">删除</span>\n        </div>\n      </template>\n    </a-table>\n  </a-card>\n</template>\n\n<script>\nimport * as Api from \"@/api/blog\";\n\nexport default {\n  data() {\n    return {\n      list: [],\n      record: {}\n    };\n  },\n  computed: {\n    columns() {\n      return [\n        {\n          title: \"标题\",\n          dataIndex: \"title\",\n          scopedSlots: { customRender: \"blog_title\" }\n        },\n        {\n          title: \"内容\",\n          dataIndex: \"content\",\n          scopedSlots: { customRender: \"content\" }\n        },\n        { title: \"查看数\", dataIndex: \"views\" },\n        { title: \"点赞数\", dataIndex: \"thumbs\" },\n        { title: \"创建时间\", dataIndex: \"created_time\" },\n        { title: \"操作\", scopedSlots: { customRender: \"action\" } }\n      ];\n    }\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    async fetchData() {\n      const { data } = await Api.list();\n      this.list = data;\n    },\n    async remove({ id }) {\n      await Api.remove(id);\n      this.$message.success(\"删除成功\");\n      this.fetchData();\n    },\n    toEdit({ id }) {\n      this.$router.push({\n        path: \"/blog/detail\",\n        query: { id }\n      });\n    }\n  }\n};\n</script>\n\n<style>\n</style>"]}]}